{"ast":null,"code":"var _jsxFileName = \"/Users/amberwestlund/Desktop/cs639-react-3-awestlund/src/RecommendSidebar.js\";\nimport React from 'react';\nimport './App.css';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport PreviousCourse from \"./PreviousCourse\";\nimport Button from \"react-bootstrap/Button\";\nimport CourseArea from \"./CourseArea\";\nimport Course from \"./Course\"; // import PreviousCourseArea from './PreviousCourseArea';\n\nclass RecommendSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      fetch(\"https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed\").then(res => res.json()).then(data => this.setState({\n        previousCourseNames: data\n      }));\n    };\n\n    this.getPrevCourses = () => {\n      let courses = [];\n\n      for (const course of Object.entries(this.props.courses)) {\n        for (const prevName of Object.values(this.state.previousCourseNames.data)) {\n          if (course[0] === prevName) {\n            courses.push(React.createElement(PreviousCourse, {\n              key: course[0],\n              data: course[1],\n              setLikedCourses: courses => this.setLikedCourses(courses),\n              setDislikedCourses: courses => this.setDislikedCourses(courses),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }));\n          }\n        }\n\n        if (!this.state.previousCourseNames.data.includes(course[0]) && !this.state.coursesDisplay.includes(course[1])) {\n          this.state.coursesDisplay.push(course[1]);\n        }\n      }\n\n      console.log(this.state.coursesDisplay);\n      return courses;\n    };\n\n    this.state = {\n      previousCourseNames: {},\n      coursesDisplay: [],\n      likedCourses: {},\n      dislikedCourses: {},\n      displayKeywords: false,\n      displayNewCourses: false,\n      rateButton: true\n    };\n    this.handleDoneClick = this.handleDoneClick.bind(this);\n    this.keywords = React.createRef();\n  }\n\n  handleDoneClick() {\n    //run recommend algo\n    this.setState({\n      displayKeywords: true\n    });\n    this.setState({\n      displayNewCourses: true\n    });\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n\n    for (var i = 0; i < nodes.length; i++) {\n      nodes[i].disabled = true;\n    }\n  }\n\n  setLikedCourses(courses) {\n    this.setState({\n      likedCourses: courses\n    });\n  }\n\n  setDislikedCourses(courses) {\n    this.setState({\n      dislikedCourses: courses\n    });\n  }\n\n  getKeywordOptions() {\n    let keywordOptions = [];\n\n    for (const keyword of this.props.subjects) {\n      keywordOptions.push(React.createElement(\"option\", {\n        key: keyword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, keyword));\n    }\n\n    return keywordOptions;\n  }\n\n  chooseKeyword() {\n    return React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      style: {\n        marginTop: \"10px\"\n      },\n      controlId: \"formSubject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Select Interesting Subjects\"), React.createElement(Form.Control, {\n      as: \"select\",\n      ref: this.keywords,\n      onChange: () => this.setCourses(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.getKeywordOptions())));\n  }\n\n  render() {\n    const displayKeywords = this.state.displayKeywords;\n    const displayNewCourses = this.state.displayNewCourses;\n    const rateButton = this.state.rateButton;\n    let mybutton;\n    let select;\n    let courses;\n\n    if (displayKeywords) {\n      select = React.createElement(\"div\", {\n        style: {\n          margin: \"5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.chooseKeyword());\n    } else {\n      select = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      });\n    }\n\n    if (displayNewCourses) {\n      courses = React.createElement(\"div\", {\n        style: {\n          marginLeft: \"30vw\",\n          paddingLeft: '5px',\n          paddingRight: '5px',\n          height: 'calc(100vh - 10px)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(CourseArea, {\n        data: this.state.coursesDisplay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }));\n    } else {\n      courses = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      });\n    }\n\n    if (rateButton) {\n      mybutton = React.createElement(Button, {\n        style: {\n          marginTop: '5px'\n        },\n        onClick: this.handleDoneClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Done Rating\");\n    } else {\n      mybutton = React.createElement(Button, {\n        variant: \"danger\",\n        style: {\n          marginTop: '5px'\n        },\n        onClick: this.handleDoneClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Rate Again\");\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(Card, {\n      style: {\n        width: 'calc(30vw - 5px)',\n        marginLeft: '5px',\n        height: 'calc(100vh - 10px)',\n        alignContent: 'center',\n        position: 'fixed'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Rate Your Courses!\"), React.createElement(\"div\", {\n      id: \"rateCourses\",\n      style: {\n        margin: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.getPrevCourses()), mybutton, select)), courses);\n  }\n\n}\n\nexport default RecommendSidebar;","map":{"version":3,"sources":["/Users/amberwestlund/Desktop/cs639-react-3-awestlund/src/RecommendSidebar.js"],"names":["React","Card","Form","PreviousCourse","Button","CourseArea","Course","RecommendSidebar","Component","constructor","props","componentDidMount","fetch","then","res","json","data","setState","previousCourseNames","getPrevCourses","courses","course","Object","entries","prevName","values","state","push","setLikedCourses","setDislikedCourses","includes","coursesDisplay","console","log","likedCourses","dislikedCourses","displayKeywords","displayNewCourses","rateButton","handleDoneClick","bind","keywords","createRef","nodes","document","getElementById","getElementsByTagName","i","length","disabled","getKeywordOptions","keywordOptions","keyword","subjects","chooseKeyword","marginTop","setCourses","render","mybutton","select","margin","marginLeft","paddingLeft","paddingRight","height","width","alignContent","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport PreviousCourse from \"./PreviousCourse\";\nimport Button from \"react-bootstrap/Button\";\nimport CourseArea from \"./CourseArea\";\nimport Course from \"./Course\";\n// import PreviousCourseArea from './PreviousCourseArea';\n\nclass RecommendSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previousCourseNames: {},\n      coursesDisplay: [],\n      likedCourses: {},\n      dislikedCourses: {},\n      displayKeywords: false,\n      displayNewCourses: false,\n      rateButton: true\n    };\n    this.handleDoneClick = this.handleDoneClick.bind(this);\n    this.keywords = React.createRef();\n  }\n\n  componentDidMount = () => {\n    fetch(\n      \"https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed\"\n    )\n      .then(res => res.json())\n      .then(data => this.setState({ previousCourseNames: data }));\n  };\n\n  handleDoneClick(){\n    //run recommend algo\n    this.setState({displayKeywords: true});\n    this.setState({displayNewCourses: true});\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n    for(var i = 0; i < nodes.length; i++){\n         nodes[i].disabled = true;\n    }\n  }\n\n  setLikedCourses(courses) {\n    this.setState({ likedCourses: courses });\n  }\n\n  setDislikedCourses(courses) {\n    this.setState({ dislikedCourses: courses });\n  }\n\n  getKeywordOptions() {\n    let keywordOptions = [];\n\n    for(const keyword of this.props.subjects) {\n      keywordOptions.push(<option key={keyword}>{keyword}</option>);\n    }\n\n    return keywordOptions;\n  }\n\n  getPrevCourses = () => {\n    let courses = [];\n    for (const course of Object.entries(this.props.courses)) {\n      for (const prevName of Object.values(\n        this.state.previousCourseNames.data\n      )) {\n        if (course[0] === prevName) {\n          courses.push(\n          <PreviousCourse \n            key={course[0]} \n            data={course[1]} \n            setLikedCourses={courses => this.setLikedCourses(courses)}\n            setDislikedCourses={courses => this.setDislikedCourses(courses)}\n            />);\n        }\n      }\n      if (!this.state.previousCourseNames.data.includes(course[0]) && !this.state.coursesDisplay.includes(course[1])){\n        this.state.coursesDisplay.push(course[1]);\n      }\n    }\n    console.log(this.state.coursesDisplay);\n    return courses;\n  };\n\n  chooseKeyword(){\n    return(\n      <Form>\n        <Form.Group style={{marginTop: \"10px\"}} controlId=\"formSubject\">\n          <Form.Label>Select Interesting Subjects</Form.Label>\n          <Form.Control as=\"select\" ref={this.keywords} onChange={() => this.setCourses()}>\n            {this.getKeywordOptions()}\n          </Form.Control>\n        </Form.Group>\n      </Form>\n    );\n  }\n\n  render() {\n    const displayKeywords = this.state.displayKeywords;\n    const displayNewCourses = this.state.displayNewCourses;\n    const rateButton = this.state.rateButton;\n    let mybutton;\n    let select;\n    let courses;\n\n    if (displayKeywords){\n      select = <div style={{ margin: \"5px\" }}>{this.chooseKeyword()}</div>\n    }\n    else{\n      select = <div></div>\n    }\n\n    if (displayNewCourses){\n      courses = <div style={{ marginLeft: \"30vw\", paddingLeft: '5px', paddingRight: '5px', height: 'calc(100vh - 10px)'}}><CourseArea data={this.state.coursesDisplay} /></div>\n    }\n    else{\n      courses = <div></div>\n    }\n\n    if(rateButton){\n      mybutton = <Button style={{marginTop: '5px'}} onClick={this.handleDoneClick}>Done Rating</Button>\n    }\n    else{\n      mybutton = <Button variant=\"danger\" style={{marginTop: '5px'}} onClick={this.handleDoneClick} >Rate Again</Button>\n    }\n    return (\n      <>\n        <Card style={{width: 'calc(30vw - 5px)', marginLeft: '5px', height: 'calc(100vh - 10px)', alignContent: 'center', position: 'fixed'}}>\n          <Card.Body>\n            <Card.Title>Rate Your Courses!</Card.Title>\n            <div id=\"rateCourses\" style={{ margin: \"5px\" }}>{this.getPrevCourses()}</div>\n            {mybutton}\n            {select}\n          </Card.Body>\n        </Card>\n        {courses}\n      </>\n      );\n  }\n}\n\nexport default RecommendSidebar;\n"]},"metadata":{},"sourceType":"module"}