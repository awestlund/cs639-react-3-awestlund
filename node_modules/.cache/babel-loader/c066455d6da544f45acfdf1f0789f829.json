{"ast":null,"code":"var _jsxFileName = \"/Users/amberwestlund/Desktop/cs639-react-3-awestlund/src/RecommendSidebar.js\";\nimport React from 'react';\nimport './App.css';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport PreviousCourse from \"./PreviousCourse\";\nimport Button from \"react-bootstrap/Button\";\nimport CourseArea from \"./CourseArea\";\nimport Course from \"./Course\"; // import PreviousCourseArea from './PreviousCourseArea';\n\nclass RecommendSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      fetch(\"https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed\").then(res => res.json()).then(data => this.setState({\n        previousCourseNames: data\n      }));\n    };\n\n    this.setLikedCourses = course => {\n      let temp = this.state.likedCourses;\n      temp.push(course);\n      this.setState({\n        likedCourses: temp\n      });\n      console.log(this.state.likedCourses);\n    };\n\n    this.setDislikedCourses = course => {\n      let temp2 = this.state.dislikedCourses;\n      temp2.push(course);\n      this.setState({\n        dislikedCourses: temp2\n      });\n      console.log(this.state.dislikedCourses);\n    };\n\n    this.getPrevCourses = () => {\n      let courses = [];\n      let prevCourses = [];\n\n      for (const course of Object.entries(this.props.courses)) {\n        for (const prevName of Object.values(this.state.previousCourseNames.data)) {\n          if (course[0] === prevName) {\n            courses.push(React.createElement(PreviousCourse, {\n              key: course[0],\n              data: course[1],\n              setLikedCourses: this.setLikedCourses,\n              setDislikedCourses: this.setDislikedCourses,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            }));\n          }\n        }\n\n        if (!this.state.previousCourseNames.data.includes(course[0]) && !this.state.coursesDisplay.includes(course[1])) {\n          this.state.coursesDisplay.push(course[1]);\n        }\n      } // this.setState({ coursesDisplay: prevCourses});\n\n\n      console.log(\"all other courses\" + this.state.coursesDisplay);\n      return courses;\n    };\n\n    this.state = {\n      previousCourseNames: {},\n      coursesDisplay: [],\n      likedCourses: [],\n      dislikedCourses: [],\n      displayKeywords: false,\n      displayNewCourses: false,\n      rateButton: true\n    };\n    this.handleDoneClick = this.handleDoneClick.bind(this);\n    this.handleAgainClick = this.handleAgainClick.bind(this);\n    this.subject = React.createRef();\n  }\n\n  handleDoneClick() {\n    //run recommend algo\n    this.setState({\n      displayKeywords: true\n    });\n    this.setState({\n      displayNewCourses: true\n    });\n    this.setState({\n      rateButton: false\n    }); // this.getDisplayCourses();\n\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n\n    for (var i = 0; i < nodes.length; i++) {\n      nodes[i].disabled = true;\n    }\n\n    this.getDisplayCourses();\n  }\n\n  handleAgainClick() {\n    this.setState({\n      displayKeywords: false\n    });\n    this.setState({\n      displayNewCourses: false\n    });\n    this.setState({\n      rateButton: true\n    });\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n\n    for (var i = 0; i < nodes.length; i++) {\n      nodes[i].disabled = false;\n    }\n\n    this.setState({\n      coursesDisplay: []\n    });\n    this.setState({\n      likedCourses: []\n    });\n    this.setState({\n      dislikedCourses: []\n    });\n  }\n\n  getKeywordOptions() {\n    let keywordOptions = [];\n\n    for (const keyword of this.props.subjects) {\n      keywordOptions.push(React.createElement(\"option\", {\n        key: keyword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, keyword));\n    }\n\n    return keywordOptions;\n  }\n\n  getDisplayCourses() {\n    let filteredCourses = [];\n\n    if (this.subject.current !== null) {\n      let sub = this.subject.current.value;\n      console.log(\"sub is \" + sub);\n\n      for (const course of Object.values(this.state.coursesDisplay)) {\n        if (sub === course.subject) {\n          console.log(\"course subject: \" + course.subject);\n\n          if (!filteredCourses.includes(course)) {\n            filteredCourses.push(course);\n          }\n        }\n      }\n    }\n\n    let subs = this.getLikedSubjects();\n\n    for (const course of Object.values(this.state.coursesDisplay)) {\n      if (subs.includes(course.subject)) {\n        console.log(\"course subject: \" + course.subject);\n\n        if (!filteredCourses.includes(course)) {\n          filteredCourses.push(course);\n        }\n      }\n    } //find liked key words\n\n\n    let likedKeywords = this.getLikedKeywords(); //find disliked key words\n\n    let dislikedKeywords = this.getDislikedKeywords();\n    let keywords = []; //find overall liked keywords\n\n    for (const i of likedKeywords) {\n      if (!dislikedKeywords.includes(i)) {\n        keywords.push(i);\n      }\n    }\n\n    console.log(\"my keywords: \" + keywords); //add the courses with the overall key words to be recommended\n\n    console.log(\"Pos display\" + this.state.coursesDisplay);\n\n    for (const course of Object.values(this.state.coursesDisplay)) {\n      console.log(\"this: \" + course);\n\n      for (const key of Object.values(keywords)) {\n        for (const keyOfCourse of course.keywords) {\n          if (keyOfCourse === key) {\n            console.log(\"here :) \" + course.name + key);\n\n            if (!filteredCourses.includes(course)) {\n              filteredCourses.push(course);\n            }\n\n            break;\n          }\n        }\n      }\n    }\n\n    console.log(\"filtered \" + filteredCourses);\n    this.setState({\n      coursesDisplay: filteredCourses\n    }); // return filteredCourses;\n  }\n\n  getLikedKeywords() {\n    let keywords = [];\n\n    for (const i of Object.values(this.state.likedCourses)) {\n      for (const j of i.keywords) {\n        if (!keywords.includes(j)) {\n          keywords.push(j);\n        }\n      }\n    }\n\n    return keywords;\n  }\n\n  getDislikedKeywords() {\n    let keywords = [];\n\n    for (const i of Object.values(this.state.dislikedCourses)) {\n      for (const j of i.keywords) {\n        if (!keywords.includes(j)) {\n          keywords.push(j);\n        }\n      }\n    }\n\n    return keywords;\n  }\n\n  getLikedSubjects() {\n    let subjects = [];\n    let list = [];\n\n    for (const course of Object.values(this.state.likedCourses)) {\n      console.log(\"Subject: \" + course.subject);\n\n      if (!list.includes(course.subject)) {\n        list.push(course.subject);\n        subjects.push(React.createElement(\"option\", {\n          key: course.subject,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, course.subject));\n      }\n    }\n\n    console.log(\"subjects: \" + subjects);\n    return subjects;\n  } // getCheckBoxes(){\n  //   <Form.Check\n  //     type=\"checkbox\"\n  //     label=\"first radio\"\n  //     name=\"formHorizontalRadios\"\n  //     id=\"formHorizontalRadios1\"\n  //   />\n  // }\n\n\n  chooseSubject() {\n    return React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      style: {\n        marginTop: \"10px\"\n      },\n      controlId: \"formSubject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Interest Areas to Further Filter:\"), React.createElement(Form.Control, {\n      as: \"select\",\n      ref: this.subject,\n      onChange: () => this.getDisplayCourses(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, this.getLikedSubjects())));\n  }\n\n  render() {\n    const displayKeywords = this.state.displayKeywords;\n    const displayNewCourses = this.state.displayNewCourses;\n    const rateButton = this.state.rateButton;\n    let mybutton;\n    let select;\n    let courses;\n    let clearbutton;\n\n    if (displayKeywords) {\n      select = React.createElement(\"div\", {\n        style: {\n          margin: \"5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, this.chooseSubject());\n    } else {\n      select = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      });\n    }\n\n    if (displayNewCourses) {\n      courses = React.createElement(\"div\", {\n        style: {\n          marginLeft: \"30vw\",\n          paddingLeft: '5px',\n          paddingRight: '5px',\n          height: 'calc(100vh - 10px)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(CourseArea, {\n        data: this.state.coursesDisplay,\n        setCartCourses: this.props.setCartCourses,\n        where: \"Recommender\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }));\n    } else {\n      courses = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      });\n    }\n\n    if (rateButton) {\n      mybutton = React.createElement(Button, {\n        style: {\n          marginTop: '5px'\n        },\n        onClick: (this.getDisplayCourses, this.handleDoneClick),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Done Rating\");\n      clearbutton = React.createElement(Button, {\n        variant: \"outline-danger\",\n        style: {\n          marginLeft: '5px',\n          marginTop: '5px'\n        },\n        onClick: this.handleAgainClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Clear Selection\");\n    } else {\n      mybutton = React.createElement(Button, {\n        variant: \"danger\",\n        style: {\n          marginTop: '5px'\n        },\n        onClick: this.handleAgainClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Rate Again\");\n      clearbutton = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(Card, {\n      style: {\n        width: 'calc(30vw - 5px)',\n        marginLeft: '5px',\n        height: 'calc(100vh - 10px)',\n        alignContent: 'center',\n        position: 'fixed'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Rate Your Courses!\"), React.createElement(\"div\", {\n      id: \"rateCourses\",\n      style: {\n        margin: \"5px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, this.getPrevCourses()), mybutton, clearbutton, select)), courses);\n  }\n\n}\n\nexport default RecommendSidebar;","map":{"version":3,"sources":["/Users/amberwestlund/Desktop/cs639-react-3-awestlund/src/RecommendSidebar.js"],"names":["React","Card","Row","Col","Form","PreviousCourse","Button","CourseArea","Course","RecommendSidebar","Component","constructor","props","componentDidMount","fetch","then","res","json","data","setState","previousCourseNames","setLikedCourses","course","temp","state","likedCourses","push","console","log","setDislikedCourses","temp2","dislikedCourses","getPrevCourses","courses","prevCourses","Object","entries","prevName","values","includes","coursesDisplay","displayKeywords","displayNewCourses","rateButton","handleDoneClick","bind","handleAgainClick","subject","createRef","nodes","document","getElementById","getElementsByTagName","i","length","disabled","getDisplayCourses","getKeywordOptions","keywordOptions","keyword","subjects","filteredCourses","current","sub","value","subs","getLikedSubjects","likedKeywords","getLikedKeywords","dislikedKeywords","getDislikedKeywords","keywords","key","keyOfCourse","name","j","list","chooseSubject","marginTop","render","mybutton","select","clearbutton","margin","marginLeft","paddingLeft","paddingRight","height","setCartCourses","width","alignContent","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport PreviousCourse from \"./PreviousCourse\";\nimport Button from \"react-bootstrap/Button\";\nimport CourseArea from \"./CourseArea\";\nimport Course from \"./Course\";\n// import PreviousCourseArea from './PreviousCourseArea';\n\nclass RecommendSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previousCourseNames: {},\n      coursesDisplay: [],\n      likedCourses: [],\n      dislikedCourses: [],\n      displayKeywords: false,\n      displayNewCourses: false,\n      rateButton: true\n    };\n    this.handleDoneClick = this.handleDoneClick.bind(this);\n    this.handleAgainClick = this.handleAgainClick.bind(this);\n    this.subject = React.createRef();\n  }\n\n  componentDidMount = () => {\n    fetch(\n      \"https://mysqlcs639.cs.wisc.edu/students/5022025924/classes/completed\"\n    )\n      .then(res => res.json())\n      .then(data => this.setState({ previousCourseNames: data }));\n  };\n\n  handleDoneClick(){\n    //run recommend algo\n    this.setState({displayKeywords: true});\n    this.setState({displayNewCourses: true});\n    this.setState({rateButton: false});\n    // this.getDisplayCourses();\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n    for(var i = 0; i < nodes.length; i++){\n         nodes[i].disabled = true;\n    }\n    this.getDisplayCourses();\n  }\n\n  handleAgainClick(){\n    this.setState({displayKeywords: false});\n    this.setState({displayNewCourses: false});\n    this.setState({rateButton: true});\n    var nodes = document.getElementById(\"rateCourses\").getElementsByTagName('*');\n    for(var i = 0; i < nodes.length; i++){\n         nodes[i].disabled = false;\n    }\n    this.setState({coursesDisplay: []});\n    this.setState({likedCourses: []});\n    this.setState({dislikedCourses: []});\n  }\n\n  setLikedCourses = (course)=>{\n    let temp = this.state.likedCourses\n    temp.push(course);\n    this.setState({ likedCourses: temp });\n    console.log(this.state.likedCourses);\n  }\n\n  setDislikedCourses = (course) =>{\n    let temp2 = this.state.dislikedCourses\n    temp2.push(course);\n    this.setState({ dislikedCourses: temp2 });\n    console.log(this.state.dislikedCourses);\n  }\n\n  getKeywordOptions() {\n    let keywordOptions = [];\n\n    for(const keyword of this.props.subjects) {\n      keywordOptions.push(<option key={keyword}>{keyword}</option>);\n    }\n\n    return keywordOptions;\n  }\n\n  getPrevCourses = () => {\n    let courses = [];\n    let prevCourses = [];\n    for (const course of Object.entries(this.props.courses)) {\n      for (const prevName of Object.values(\n        this.state.previousCourseNames.data\n      )) {\n        if (course[0] === prevName) {\n          courses.push(\n          <PreviousCourse \n            key={course[0]} \n            data={course[1]} \n            setLikedCourses={this.setLikedCourses}\n            setDislikedCourses={this.setDislikedCourses}\n            />);\n        }\n      }\n      if (!this.state.previousCourseNames.data.includes(course[0]) && !this.state.coursesDisplay.includes(course[1])){\n        this.state.coursesDisplay.push(course[1]);\n      }\n    }\n    // this.setState({ coursesDisplay: prevCourses});\n    console.log(\"all other courses\" + this.state.coursesDisplay);\n    return courses;\n  };\n\n  getDisplayCourses(){\n    let filteredCourses = [];\n\n    if(this.subject.current !== null){\n      let sub = this.subject.current.value;\n      console.log(\"sub is \"+ sub);\n      for (const course of Object.values(this.state.coursesDisplay)){\n        if (sub === course.subject){\n          console.log(\"course subject: \"+ course.subject);\n          if(!filteredCourses.includes(course)){\n            filteredCourses.push(course);\n          }\n        }\n      }\n    }\n\n    let subs = this.getLikedSubjects();\n    for (const course of Object.values(this.state.coursesDisplay)){\n      if (subs.includes(course.subject)){\n        console.log(\"course subject: \"+ course.subject);\n        if(!filteredCourses.includes(course)){\n          filteredCourses.push(course);\n        }\n      }\n    }\n\n    //find liked key words\n    let likedKeywords = this.getLikedKeywords();\n    //find disliked key words\n    let dislikedKeywords = this.getDislikedKeywords();\n    let keywords = [];\n    //find overall liked keywords\n    for (const i of likedKeywords){\n      if (!dislikedKeywords.includes(i)){\n        keywords.push(i);\n      }\n    }\n    console.log(\"my keywords: \" + keywords);\n    //add the courses with the overall key words to be recommended\n    console.log(\"Pos display\"+ this.state.coursesDisplay);\n    for(const course of Object.values(this.state.coursesDisplay)){\n      console.log(\"this: \"+ course);\n      for(const key of Object.values(keywords)){\n        for (const keyOfCourse of course.keywords){\n          if (keyOfCourse === key){\n            console.log(\"here :) \" +course.name + key);\n            if (!filteredCourses.includes(course)){\n              filteredCourses.push(course);\n            }\n            break;\n          }\n        }\n      }\n    }\n  \n    console.log(\"filtered \"+filteredCourses);\n\n    this.setState({ coursesDisplay: filteredCourses });\n    // return filteredCourses;\n  }\n\n  getLikedKeywords(){\n    let keywords = [];\n    for(const i of Object.values(this.state.likedCourses)){\n      for (const j of i.keywords){\n        if(!keywords.includes(j)){\n          keywords.push(j);\n        }\n      }\n    }\n    return keywords;\n  }\n\n  getDislikedKeywords(){\n    let keywords = [];\n    for(const i of Object.values(this.state.dislikedCourses)){\n      for (const j of i.keywords){\n        if(!keywords.includes(j)){\n          keywords.push(j);\n        }\n      }\n    }\n    return keywords;\n  }\n\n  getLikedSubjects(){\n    let subjects = [];\n    let list=[]\n    for(const course of Object.values(this.state.likedCourses)){\n      console.log(\"Subject: \" + course.subject);\n      if(!list.includes(course.subject)){\n        list.push(course.subject);\n        subjects.push(<option key={course.subject}>{course.subject}</option>);\n      }\n    }\n    console.log(\"subjects: \"+ subjects);\n    return subjects;\n  }\n\n  // getCheckBoxes(){\n  //   <Form.Check\n  //     type=\"checkbox\"\n  //     label=\"first radio\"\n  //     name=\"formHorizontalRadios\"\n  //     id=\"formHorizontalRadios1\"\n  //   />\n  // }\n\n  chooseSubject(){\n    return(\n      <Form>\n        <Form.Group style={{marginTop: \"10px\"}} controlId=\"formSubject\">\n          <Form.Label>Interest Areas to Further Filter:</Form.Label>\n          <Form.Control as=\"select\" ref={this.subject} onChange={() => this.getDisplayCourses()}>\n            {this.getLikedSubjects()}\n          </Form.Control>\n        </Form.Group>\n      </Form>\n    );\n  }\n\n  render() {\n    const displayKeywords = this.state.displayKeywords;\n    const displayNewCourses = this.state.displayNewCourses;\n    const rateButton = this.state.rateButton;\n    let mybutton;\n    let select;\n    let courses;\n    let clearbutton;\n\n    if (displayKeywords){\n      select = <div style={{ margin: \"5px\" }}>{this.chooseSubject()}</div>\n    }\n    else{\n      select = <div></div>\n    }\n    if (displayNewCourses){\n      courses = <div style={{ marginLeft: \"30vw\", paddingLeft: '5px', paddingRight: '5px', height: 'calc(100vh - 10px)'}}>\n        <CourseArea \n          data={this.state.coursesDisplay} \n          setCartCourses={this.props.setCartCourses}\n          where=\"Recommender\"\n          />\n        </div>\n    }\n    else{\n      courses = <div></div>\n    }\n\n    if(rateButton){\n      mybutton = <Button style={{marginTop: '5px'}} onClick={this.getDisplayCourses, this.handleDoneClick}>Done Rating</Button>\n      clearbutton = <Button variant=\"outline-danger\" style={{marginLeft: '5px', marginTop: '5px'}} onClick={this.handleAgainClick} >Clear Selection</Button>\n    }\n    else{\n      mybutton = <Button variant=\"danger\" style={{marginTop: '5px'}} onClick={this.handleAgainClick} >Rate Again</Button>\n      clearbutton = <div></div>\n    }\n\n    return (\n      <>\n        <Card style={{width: 'calc(30vw - 5px)', marginLeft: '5px', height: 'calc(100vh - 10px)', alignContent: 'center', position: 'fixed'}}>\n          <Card.Body>\n            <Card.Title>Rate Your Courses!</Card.Title>\n            <div id=\"rateCourses\" style={{ margin: \"5px\" }}>{this.getPrevCourses()}</div>\n            {mybutton}\n            {clearbutton}\n            {select}\n          </Card.Body>\n        </Card>\n        {courses}\n      </>\n      );\n  }\n}\n\nexport default RecommendSidebar;\n"]},"metadata":{},"sourceType":"module"}